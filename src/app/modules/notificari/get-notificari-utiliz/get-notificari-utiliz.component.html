<div class="background"></div>
<div class="backg"></div>
<div class="back"></div>
<nav class="navbar navbar-light">
		<a class="navbar-brand" href="#">
				<img src="assets/photos/TriatlonSigla.png"
				height="80vh" alt="" loading="lazy" class="logo" />
		</a>
		<a class="link-bar" href="http://localhost:4200/cl/club">
			Cluburi
		</a>
		<a class="link-bar" href="http://localhost:4200/comp/competitie">
			Competiții
		</a>
		<a class="link-bar" href="http://localhost:4200/ist/ierarhie">
            Statistici
        </a>
		<a *ngIf="logAntrenor() === true" href="http://localhost:4200/antr/antrenor/{{email}}"> 
			<img src="{{pozaProfil.urlPozaProfil}}" alt="email" class="pozaDeProfil" height="80vh"/>
		</a>
		<a *ngIf="logSportiv() === true" href="http://localhost:4200/sp/sportivByEmail/{{email}}"> 
			<img src="{{pozaProfil.urlPozaProfil}}" alt="email" class="pozaDeProfil" height="80vh"/>
		</a>

		<button class="link-bar notif" (click)="postari()" *ngIf="hasToken === true">Postări</button>

		<button class="notif" (click)="notific()"  *ngIf="logSportiv() === true" >
			<div style="position: relative;">
			<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16">
				<path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
			</svg>
			<div class="cerc" *ngIf="nrNotifNecitite > 0">
				<p style="font-size: 60%; margin-left: 4px;">{{nrNotifNecitite}}</p>
			</div>
			</div>
		</button>

		<button class="notif" (click)="necitite()" *ngIf="hasToken === true">

			<div style="position: relative;">
				<svg xmlns="http://www.w3.org/2000/svg" width="70" height="70" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
					<path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
				  </svg>
				<div class="cercMesaje" *ngIf="nrMesajeNecitite > 0">
					<p style="font-size: 60%; margin-left: 4px;">{{nrMesajeNecitite}}</p>
				</div>
				</div>
		</button>


		<a *ngIf="!hasToken" class="link-bar" href="http://localhost:4200/auth/login"style="margin-right: 2%;">Logare</a>
		<button class="logout" (click)="onLogout()" *ngIf="hasToken === true"style="margin-right: 2%;">Logout</button>

</nav>
<p>.</p>
<p>.</p>
<div style="margin-top: 5%;" *ngIf="notificari.length !== 0">
	<div *ngFor="let notif of notificari">
		<div class="notificare-detalii" *ngIf="notif.citireNotificare === true">
			<div style="display: block; width: 200px;">
				<img src="{{notif.urlPozaProfil}}">
				<p class="nume" style="font-size: 160%; font-weight: 700;text-align: center;">{{notif.nume}} {{notif.prenume}}</p>
			</div>
			<div style="margin-left:4%;display:block; width: 60%;">
				<p class="titlu">{{notif.titluNotificare}}</p>
				<p class="dataCreare">{{notif.dataCreare|date:"d/M/Y"}}</p>
			</div>

			<button class="btn btn-outline-primary mb-2 me-2" (click)="mesafNotifCitit(notif.codNotificare,content)">
				Detalii
			</button>

			<ng-template #content let-modal>
				<div class="modal-header">
					<h4 class="modal-title">Mesaj notificare</h4>
					<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
				</div>
				<div class="modal-body">
					<p>Bine te-am regăsit!</p>
					<br>
					<p>
						{{notifId.mesaj}}
					</p>
					<br>
					<p>Ne vedem la antrenament. Până atunci odihnă!</p>
					<p>Sănătate!</p>
										
				</div>
				<div class="modal-footer">
				</div>
			</ng-template>
		</div>

		<div class="notificare-detaliile" *ngIf="notif.citireNotificare === false">
			<div style="display: block; width: 200px;">
				<img src="{{notif.urlPozaProfil}}">
				<p class="nume" style="font-size: 160%; font-weight: 700; text-align: center;">{{notif.nume}} {{notif.prenume}}</p>
			</div>
			<div style="margin-left:4%;display:block; width: 60%;">
				<p class="titlu">{{notif.titluNotificare}}</p>
				<p class="dataCreare">{{notif.dataCreare|date:"d/M/Y"}}</p>
			</div>
			<div class="notif-necitita" *ngIf="notif.citireNotificare === false"></div>

			<button class="btn btn-outline-primary mb-2 me-2" (click)="mesafNotif(notif.codNotificare,content)">
				Detalii
			</button>

			<ng-template #content let-modal let-c="close" let-d="dismiss">
				<div class="modal-header">
					<h4 class="modal-title">Mesaj notificare</h4>
					<button type="button" class="btn-close" aria-label="Close" (click)="close()"></button>
				</div>
				<div class="modal-body" style="font-size: 120%;">
					<p>Bine te-am regăsit!</p>
					<br>
					<p style="font-weight: 600;">
						{{notifId.mesaj}}
					</p>
					<br>
					<p>Ne vedem la antrenament. Până atunci odihnă!</p>
					<p>Sănătate!</p>
										
				</div>
				<div class="modal-footer">
				</div>
			</ng-template>

		</div>

	</div>
</div>

<div style="display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;" *ngIf="faraNotificari === true">
	<p style="font-size: 300%; font-weight: bold; color: white;">Nu există notificări</p>
</div>